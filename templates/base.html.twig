<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}BibliothÃ¨que{% endblock %}</title>
    <meta http-equiv="Content-Security-Policy"
          content="default-src 'self';
                   img-src 'self';
                   style-src 'self' 'unsafe-inline' https://unpkg.com;
                   font-src 'self';
                   script-src 'self' 'unsafe-inline' https://trusted.cdn.com;
                   connect-src 'self';
                   object-src 'none';">
    <link rel="stylesheet" href="https://unpkg.com/@picocss/pico@latest/css/pico.min.css">
    {% block stylesheets %}{% endblock %}
  </head>

  <body>
    <header class="container">
      <nav>
        <ul>
          <li><strong>ðŸ“š BibliothÃ¨que</strong></li>
        </ul>
        <ul>
          <li><a href="{{ path('app_login') }}">Connexion</a></li>
          <li><a href="{{ path('app_register') }}">Inscription</a></li>
        </ul>
      </nav>
    </header>

    <main class="container">
      {% block body %}{% endblock %}
    </main>

    <footer class="container">
      <hr>
      <small>Projet Symfony - SÃ©curisation Â© EFREI</small><br>
      <button id="mode-dark" class="contrast">Mode sombre</button>
      <button id="mode-light" class="secondary">Mode clair</button>
    </footer>

    <script>
      document.getElementById('mode-dark').addEventListener('click', function() {
        var expiration = new Date(Date.now() + 48 * 60 * 60 * 1000).toUTCString();
        document.cookie = "myapp_dark_mode=true; path=/; expires=" + expiration;
      });

      document.getElementById('mode-light').addEventListener('click', function() {
        var expiration = new Date(Date.now() + 48 * 60 * 60 * 1000).toUTCString();
        document.cookie = "myapp_dark_mode=false; path=/; expires=" + expiration;
      });
    </script>

    {% block javascripts %}{% endblock %}
  </body>
</html>
